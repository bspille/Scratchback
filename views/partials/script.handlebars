
<script
src="https://code.jquery.com/jquery-3.2.1.min.js"
integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
crossorigin="anonymous"></script>

<script type="text/javascript">

// angular

  var app = angular.module('scratch', []);
  app.controller('jobSrch', function($scope, $http) {
    $scope.jobList = ["Accounting/Finance", "Automotive", "Carpentry", "General Labor",
                    "Construction", "Plumbing", "HVAC", "Consultation", "Landscaping/Gardening", "Graphic Design",
                    "Photography", "Culinary Services", "Computer Programming", "Academic Tutoring"];
    $scope.srchJobs = function(){
      $scope.url = "/search/"+ $scope.id + "/" + $scope.job;
      console.log($scope.url);
      $http.put($scope.url).then(function(res){
        $scope.found = res.data;
        console.log($scope.found);
      });
    }

    //  console.log($scope.id + '\n' + $scope.job);
    //  var url = "/search/" + $scope.id + "/" + $scope.job;
    //  console.log(url);
});

// jquery

  $("button").click(function(event){
    var action = $(this).attr("name");
        // id = $(this).attr("val"),
        // url = window.location.origin,
        // query = $('[name="lookingFor"]').val();


    // console.log(id);
    // open modals
    if (action == "togAcct"){
      $("#acct").attr("class", "modal is-active");
    }
    if(action == "togLogin"){
      $("#login").attr("class", "modal is-active");
    }
    if(action == "togNewUser"){
      $("#newUser").attr("class", "modal is-active");
    }
    // close modals
    if (action == "delete"){
      $('[class="modal is-active"]').attr("class", "modal");
    }
    // ajax
    if (action == "search"){
      event.preventDefault();
      // url = "/search/" + id + "/" + query;
      // console.log(url);
      // original ajax
      // $.ajax({
      //   url: url,
      //   method: "PUT",
      // }).done(function(res){
      //   console.log(res);
      //   if (res == false){
      //     $("#display").html("Could NOT find match");
      //   }else{
      //     $("#display").html(JSON.stringify(res));
      //   }
      // });
      // angular syntax
      // var srch = angular.module("srchApp", []);
      // srch.controller("srchCtlr", function($scope, $http){
      //
      //   console.log(url);
      //   $http.put(url)
      //   .then(function(res){
      //     $scope.data = res.data;
      //     console.log(res);
      //   });
      // });
    }// end of search condition
  });// end of button listener

</script>
